<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACME Shoes Manager (MVC Pattern)</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .form-group { margin-bottom: 10px; }
        label { display: inline-block; width: 100px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        button { padding: 10px 20px; cursor: pointer; background-color: #28a745; color: white; border: none; }
    </style>
</head>
<body>

    <h1>ACME Company - Shoes Management</h1>

    <div id="shoe-form">
        <h3>Registrar Nuevo Zapato</h3>
        <div class="form-group">
            <label>ID:</label>
            <input type="text" id="shoeId" placeholder="ej. ZAP-001">
        </div>
        <div class="form-group">
            <label>Modelo:</label>
            <input type="text" id="shoeName" placeholder="ej. Running Speed">
        </div>
        <div class="form-group">
            <label>Precio ($):</label>
            <input type="number" id="shoePrice" placeholder="0.00">
        </div>
        <div class="form-group">
            <label>Descuento (%):</label>
            <input type="number" id="shoeDiscount" placeholder="0 - 100">
        </div>
        <button id="btnSave">Guardar Zapato</button>
    </div>

    <h3>Inventario</h3>
    <table id="shoesTable">
        <thead>
            <tr>
                <th>ID</th>
                <th>Modelo</th>
                <th>Precio Base</th>
                <th>Descuento</th>
                <th>Precio Final (LÃ³gica)</th>
            </tr>
        </thead>
        <tbody>
            </tbody>
    </table>

    <script>
        
        
        class Shoe {
            constructor(id, name, price, discount) {
                this.id = id;
                this.name = name;
                this.price = parseFloat(price);
                this.discount = parseFloat(discount);
            }

            
            calculateFinalPrice() {
                let discountAmount = (this.price * this.discount) / 100;
                return (this.price - discountAmount).toFixed(2);
            }
        }

        
       
        class ShoeView {
            constructor() {
                this.idInput = document.getElementById('shoeId');
                this.nameInput = document.getElementById('shoeName');
                this.priceInput = document.getElementById('shoePrice');
                this.discountInput = document.getElementById('shoeDiscount');
                this.saveButton = document.getElementById('btnSave');
                this.tableBody = document.querySelector('#shoesTable tbody');
            }

            getInputs() {
                return {
                    id: this.idInput.value,
                    name: this.nameInput.value,
                    price: this.priceInput.value,
                    discount: this.discountInput.value
                };
            }

           
            addShoeToTable(shoe) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${shoe.id}</td>
                    <td>${shoe.name}</td>
                    <td>$${shoe.price}</td>
                    <td>${shoe.discount}%</td>
                    <td><strong>$${shoe.calculateFinalPrice()}</strong></td>
                `;
                this.tableBody.appendChild(row);
            }

            clearInputs() {
                this.idInput.value = '';
                this.nameInput.value = '';
                this.priceInput.value = '';
                this.discountInput.value = '';
            }

            
            bindSave(handler) {
                this.saveButton.addEventListener('click', handler);
            }
        }

        
       
        class ShoeController {
            constructor(view) {
                this.view = view;
                this.shoesList = []; 

                
                this.view.bindSave(this.handleSaveShoe.bind(this));
            }

            handleSaveShoe() {
                const data = this.view.getInputs();

                
                if(!data.id || !data.name || !data.price) {
                    alert("Por favor completa los campos principales");
                    return;
                }

                
                const newShoe = new Shoe(data.id, data.name, data.price, data.discount);
                
                
                this.shoesList.push(newShoe);

                
                this.view.addShoeToTable(newShoe);
                this.view.clearInputs();
                
                console.log("Zapato guardado:", newShoe);
            }
        }

        
        const app = new ShoeController(new ShoeView());

    </script>
</body>
</html>